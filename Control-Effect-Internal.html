<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Control.Effect.Internal</title><link href="new-ocean.css" rel="stylesheet" type="text/css" title="NewOcean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">eff-0.0.0.0</span><ul class="links" id="page-menu"><li><a href="src/Control.Effect.Internal.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Effect.Internal</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:axiom">axiom</a> :: a <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Type-Equality.html#t::-126-:" title="Data.Type.Equality">:~:</a> b</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:Any">Any</a> :: <span class="keyword">forall</span> a. a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a></li><li class="src short"><a href="#v:anyCo">anyCo</a> :: <span class="keyword">forall</span> a. <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Type-Coercion.html#t:Coercion" title="Data.Type.Coercion">Coercion</a> a <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a></li><li class="src short"><a href="#v:null-35-">null#</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a></li><li class="src short"><a href="#v:unIO">unIO</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:State-35-" title="GHC.Exts">State#</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Monad-ST-Safe.html#t:RealWorld" title="Control.Monad.ST.Safe">RealWorld</a> -&gt; (# <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:State-35-" title="GHC.Exts">State#</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Monad-ST-Safe.html#t:RealWorld" title="Control.Monad.ST.Safe">RealWorld</a>, a #)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Dict">Dict</a> c = c =&gt; <a href="#v:Dict">Dict</a></li><li class="src short"><span class="keyword">type family</span> <a href="#t:DictRep">DictRep</a> c</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WithDict">WithDict</a> c r = <a href="#v:WithDict">WithDict</a> {<ul class="subs"><li><a href="#v:unWithDict">unWithDict</a> :: c =&gt; r</li></ul>}</li><li class="src short"><a href="#v:reflectDict">reflectDict</a> :: <span class="keyword">forall</span> c r. <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> c -&gt; (c =&gt; r) -&gt; r</li><li class="src short"><span class="keyword">type</span> <a href="#t:Effect">Effect</a> = (<a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a></li><li class="src short"><span class="keyword">class</span> eff <a href="#t::-60-">:&lt;</a> effs <span class="keyword">where</span><ul class="subs"><li><a href="#v:reifyIndex">reifyIndex</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul></li><li class="src short"><span class="keyword">class</span> effs1 <a href="#t::-60--60-">:&lt;&lt;</a> effs2 <span class="keyword">where</span><ul class="subs"><li><a href="#v:reifySubIndex">reifySubIndex</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></li></ul></li><li class="src short"><span class="keyword">newtype</span> eff <a href="#t::-60--35-">:&lt;#</a> effs = <a href="#v:ReflectIndex-35-">ReflectIndex#</a> {<ul class="subs"><li><a href="#v:reifyIndex-35-">reifyIndex#</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Int-35-" title="GHC.Exts">Int#</a></li></ul>}</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:IndexDict-35-">IndexDict#</a> :: <span class="keyword">forall</span> eff effs. () =&gt; eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; eff <a href="Control-Effect-Internal.html#t::-60--35-" title="Control.Effect.Internal">:&lt;#</a> effs</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Eff">Eff</a> effs a = <a href="#v:Eff-35-">Eff#</a> {<ul class="subs"><li><a href="#v:unEff-35-">unEff#</a> :: <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a</li></ul>}</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:Eff">Eff</a> :: (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:EVM">EVM</a> a = <a href="#v:EVM-35-">EVM#</a> {<ul class="subs"><li><a href="#v:unEVM-35-">unEVM#</a> :: <a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Result" title="Control.Effect.Internal">Result</a> a)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Result">Result</a> a = <a href="#v:Result">Result</a> <a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a> ~a</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:EVM">EVM</a> :: (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a</li><li class="src short"><a href="#v:packIOResult">packIOResult</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Result" title="Control.Effect.Internal">Result</a> a)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Registers-35-">Registers#</a> = <a href="#v:Registers-35-">Registers#</a> (# <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a>, <a href="Control-Effect-Internal.html#t:Targets-35-" title="Control.Effect.Internal">Targets#</a> #)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Registers">Registers</a> = <a href="#v:BoxRegisters">BoxRegisters</a> {<ul class="subs"><li><a href="#v:unboxRegisters">unboxRegisters</a> :: <a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a></li></ul>}</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:Registers">Registers</a> :: <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a></li><li class="src short"><a href="#v:initialRegisters">initialRegisters</a> :: <a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:PromptId">PromptId</a> = <a href="#v:PromptId-35-">PromptId#</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Int-35-" title="GHC.Exts">Int#</a></li><li class="src short"><span class="keyword">pattern</span> <a href="#v:PromptId">PromptId</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Unwind">Unwind</a><ul class="subs"><li>= <a href="#v:UnwindAbort">UnwindAbort</a> <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a> ~<a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a></li><li>| <a href="#v:UnwindControl">UnwindControl</a> (<a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a>)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Capture">Capture</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:Capture">Capture</a> :: <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a> -&gt; <a href="Control-Effect-Internal.html#t:CaptureMode" title="Control.Effect.Internal">CaptureMode</a> -&gt; ((b -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> c) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> d) -&gt; (b -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a) -&gt; <a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:CaptureMode">CaptureMode</a><ul class="subs"><li>= <a href="#v:IncludePrompt">IncludePrompt</a></li><li>| <a href="#v:ExcludePrompt">ExcludePrompt</a></li></ul></li><li class="src short"><a href="#v:captureVM">captureVM</a> :: <span class="keyword">forall</span> a b. <a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b</li><li class="src short"><a href="#v:promptVM">promptVM</a> :: <span class="keyword">forall</span> a b. <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a) -&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; (<a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; (<a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b</li><li class="src short"><a href="#v:promptVM_">promptVM_</a> :: <span class="keyword">forall</span> a. <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a) -&gt; <a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> -&gt; (<a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)</li><li class="src short"><a href="#v:controlVM">controlVM</a> :: ((a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, b)) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)</li><li class="src short"><a href="#v:parameterizeVM">parameterizeVM</a> :: (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> -&gt; <a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Targets-35-">Targets#</a> = <a href="#v:Targets-35-">Targets#</a> (<a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:SmallArray-35-" title="GHC.Exts">SmallArray#</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a>)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Targets">Targets</a> = <a href="#v:Targets">Targets</a> (<a href="Control-Effect-Internal-SmallArray.html#t:SmallArray" title="Control.Effect.Internal.SmallArray">SmallArray</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a>)</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:BoxTargets">BoxTargets</a> :: <a href="Control-Effect-Internal.html#t:Targets-35-" title="Control.Effect.Internal">Targets#</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a></li><li class="src short"><a href="#v:noTargets">noTargets</a> :: <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a></li><li class="src short"><a href="#v:lookupTarget">lookupTarget</a> :: <span class="keyword">forall</span> effs eff. (<a href="Control-Effect-Internal-Debug.html#t:DebugCallStack" title="Control.Effect.Internal.Debug">DebugCallStack</a>, eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs) =&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Handler" title="Control.Effect.Internal">Handler</a> eff</li><li class="src short"><a href="#v:pushTarget">pushTarget</a> :: <a href="Control-Effect-Internal.html#t:Handler" title="Control.Effect.Internal">Handler</a> eff -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a></li><li class="src short"><a href="#v:dropTargets">dropTargets</a> :: <a href="Control-Effect-Internal-Debug.html#t:DebugCallStack" title="Control.Effect.Internal.Debug">DebugCallStack</a> =&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a></li><li class="src short"><a href="#v:run">run</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> '[] a -&gt; a</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Handle">Handle</a> eff effs i r effs' a = <a href="#v:Handle-35-">Handle#</a> {<ul class="subs"><li><a href="#v:runHandle-35-">runHandle#</a> :: <a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a> -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs' a</li></ul>}</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:Handle">Handle</a> :: (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs' a) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:Handler">Handler</a> eff = <a href="#v:Handler-35-">Handler#</a> {<ul class="subs"><li><a href="#v:runHandler-35-">runHandler#</a> :: <span class="keyword">forall</span> effs a. (eff <a href="Control-Effect-Internal.html#t::-60--35-" title="Control.Effect.Internal">:&lt;#</a> effs) -&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a</li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:WrappedHandler">WrappedHandler</a> eff = <a href="#v:WrapHandler">WrapHandler</a> (<span class="keyword">forall</span> effs a. eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a)</li><li class="src short"><span class="keyword">pattern</span> <a href="#v:Handler">Handler</a> :: (<span class="keyword">forall</span> effs a. eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a) -&gt; <a href="Control-Effect-Internal.html#t:Handler" title="Control.Effect.Internal">Handler</a> eff</li><li class="src short"><a href="#v:send">send</a> :: <span class="keyword">forall</span> eff a effs. eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a</li><li class="src short"><a href="#v:handle">handle</a> :: <span class="keyword">forall</span> eff a r effs. (a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r) -&gt; (<span class="keyword">forall</span> effs' b. eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs' =&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs') b -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs a r effs' b) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r</li><li class="src short"><a href="#v:handleVM">handleVM</a> :: <span class="keyword">forall</span> eff a r effs. (a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r) -&gt; (<a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a> -&gt; <a href="Control-Effect-Internal.html#t:Handler" title="Control.Effect.Internal">Handler</a> eff) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r</li><li class="src short"><a href="#v:locally">locally</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs' a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a</li><li class="src short"><a href="#v:liftH">liftH</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a</li><li class="src short"><a href="#v:abort">abort</a> :: r -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a</li><li class="src short"><a href="#v:control">control</a> :: ((a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a</li><li class="src short"><a href="#v:control0">control0</a> :: ((a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) i) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a</li><li class="src short"><span class="keyword">class</span> <a href="#t:Lift">Lift</a> effs1 effs2 <span class="keyword">where</span><ul class="subs"><li><a href="#v:liftTargets">liftTargets</a> :: <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a></li></ul></li><li class="src short"><a href="#v:lift">lift</a> :: <span class="keyword">forall</span> effs1 effs2 a. <a href="Control-Effect-Internal.html#t:Lift" title="Control.Effect.Internal">Lift</a> effs1 effs2 =&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs1 a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs2 a</li><li class="src short"><a href="#v:lift1">lift1</a> :: <span class="keyword">forall</span> eff effs a. <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) a</li><li class="src short"><span class="keyword">data</span> <a href="#t:IOE">IOE</a> :: <a href="Control-Effect-Internal.html#t:Effect" title="Control.Effect.Internal">Effect</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:LiftIO">LiftIO</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Control-Effect-Internal.html#t:IOE" title="Control.Effect.Internal">IOE</a> m a</li></ul></li><li class="src short"><a href="#v:unsafeIOToEff">unsafeIOToEff</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a</li><li class="src short"><a href="#v:runIO">runIO</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> '[<a href="Control-Effect-Internal.html#t:IOE" title="Control.Effect.Internal">IOE</a>] a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:State">State</a> s :: <a href="Control-Effect-Internal.html#t:Effect" title="Control.Effect.Internal">Effect</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:Get">Get</a> :: <a href="Control-Effect-Internal.html#t:State" title="Control.Effect.Internal">State</a> s m s</li><li><a href="#v:Put">Put</a> :: ~s -&gt; <a href="Control-Effect-Internal.html#t:State" title="Control.Effect.Internal">State</a> s m ()</li></ul></li><li class="src short"><a href="#v:evalState">evalState</a> :: s -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (<a href="Control-Effect-Internal.html#t:State" title="Control.Effect.Internal">State</a> s ': effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a</li><li class="src short"><span class="keyword">data</span> <a href="#t:NonDet">NonDet</a> :: <a href="Control-Effect-Internal.html#t:Effect" title="Control.Effect.Internal">Effect</a> <span class="keyword">where</span><ul class="subs"><li><a href="#v:Empty">Empty</a> :: <a href="Control-Effect-Internal.html#t:NonDet" title="Control.Effect.Internal">NonDet</a> m a</li><li><a href="#v:Choose">Choose</a> :: <a href="Control-Effect-Internal.html#t:NonDet" title="Control.Effect.Internal">NonDet</a> m <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:axiom" class="def">axiom</a> :: a <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Type-Equality.html#t::-126-:" title="Data.Type.Equality">:~:</a> b <a href="src/Control.Effect.Internal.html#axiom" class="link">Source</a> <a href="#v:axiom" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:Any" class="def">Any</a> :: <span class="keyword">forall</span> a. a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a> <a href="src/Control.Effect.Internal.html#Any" class="link">Source</a> <a href="#v:Any" class="selflink">#</a></p><div class="doc"><p>A restricted form of <code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Unsafe-Coerce.html#v:unsafeCoerce" title="Unsafe.Coerce">unsafeCoerce</a></code> that only works for converting to/from
 <code><a href="Control-Effect-Internal.html#v:Any" title="Control.Effect.Internal">Any</a></code>. Still just as unsafe, but makes it slightly more difficult to
 accidentally misuse.</p></div></div><div class="top"><p class="src"><a id="v:anyCo" class="def">anyCo</a> :: <span class="keyword">forall</span> a. <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Type-Coercion.html#t:Coercion" title="Data.Type.Coercion">Coercion</a> a <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a> <a href="src/Control.Effect.Internal.html#anyCo" class="link">Source</a> <a href="#v:anyCo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:null-35-" class="def">null#</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a> <a href="src/Control.Effect.Internal.html#null%23" class="link">Source</a> <a href="#v:null-35-" class="selflink">#</a></p><div class="doc"><p>Used to explicitly overwrite references to values that should not be
 retained by the GC.</p></div></div><div class="top"><p class="src"><a id="v:unIO" class="def">unIO</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:State-35-" title="GHC.Exts">State#</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Monad-ST-Safe.html#t:RealWorld" title="Control.Monad.ST.Safe">RealWorld</a> -&gt; (# <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:State-35-" title="GHC.Exts">State#</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Monad-ST-Safe.html#t:RealWorld" title="Control.Monad.ST.Safe">RealWorld</a>, a #) <a href="src/Control.Effect.Internal.html#unIO" class="link">Source</a> <a href="#v:unIO" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Dict" class="def">Dict</a> c <a href="src/Control.Effect.Internal.html#Dict" class="link">Source</a> <a href="#t:Dict" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">c =&gt; <a id="v:Dict" class="def">Dict</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a id="t:DictRep" class="def">DictRep</a> c <a href="src/Control.Effect.Internal.html#DictRep" class="link">Source</a> <a href="#t:DictRep" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DictRep">Instances</h4><details id="i:DictRep" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:DictRep:DictRep:1"></span> <span class="keyword">type</span> <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> (effs1 <a href="Control-Effect-Internal.html#t::-60--60-" title="Control.Effect.Internal">:&lt;&lt;</a> effs2)</span> <a href="src/Control.Effect.Internal.html#line-101" class="link">Source</a> <a href="#t:DictRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:DictRep:DictRep:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="src"><span class="keyword">type</span> <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> (effs1 <a href="Control-Effect-Internal.html#t::-60--60-" title="Control.Effect.Internal">:&lt;&lt;</a> effs2) = <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:if:DictRep:DictRep:2"></span> <span class="keyword">type</span> <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> (eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs)</span> <a href="src/Control.Effect.Internal.html#line-100" class="link">Source</a> <a href="#t:DictRep" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:if:DictRep:DictRep:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="src"><span class="keyword">type</span> <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> (eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs) = <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WithDict" class="def">WithDict</a> c r <a href="src/Control.Effect.Internal.html#WithDict" class="link">Source</a> <a href="#t:WithDict" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WithDict" class="def">WithDict</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unWithDict" class="def">unWithDict</a> :: c =&gt; r</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:reflectDict" class="def">reflectDict</a> :: <span class="keyword">forall</span> c r. <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> c -&gt; (c =&gt; r) -&gt; r <a href="src/Control.Effect.Internal.html#reflectDict" class="link">Source</a> <a href="#v:reflectDict" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Effect" class="def">Effect</a> = (<a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a>) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="src/Control.Effect.Internal.html#Effect" class="link">Source</a> <a href="#t:Effect" class="selflink">#</a></p><div class="doc"><p>The kind of effects.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> eff <a id="t::-60-" class="def">:&lt;</a> effs <span class="keyword">where</span> <a href="src/Control.Effect.Internal.html#%3A%3C" class="link">Source</a> <a href="#t::-60-" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:reifyIndex" class="def">reifyIndex</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Control.Effect.Internal.html#reifyIndex" class="link">Source</a> <a href="#v:reifyIndex" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i::-60-">Instances</h4><details id="i::-60-" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic::-60-::-60-:1"></span> eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> (eff' ': effs)</span> <a href="src/Control.Effect.Internal.html#line-86" class="link">Source</a> <a href="#t::-60-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic::-60-::-60-:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reifyIndex">reifyIndex</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Control.Effect.Internal.html#reifyIndex" class="link">Source</a> <a href="#v:reifyIndex" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic::-60-::-60-:2"></span> eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> (eff ': effs)</span> <a href="src/Control.Effect.Internal.html#line-83" class="link">Source</a> <a href="#t::-60-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic::-60-::-60-:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reifyIndex">reifyIndex</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Control.Effect.Internal.html#reifyIndex" class="link">Source</a> <a href="#v:reifyIndex" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic::-60-:DictRep:3"></span> <span class="keyword">type</span> <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> (eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs)</span> <a href="src/Control.Effect.Internal.html#line-100" class="link">Source</a> <a href="#t::-60-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic::-60-:DictRep:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="src"><span class="keyword">type</span> <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> (eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs) = <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> effs1 <a id="t::-60--60-" class="def">:&lt;&lt;</a> effs2 <span class="keyword">where</span> <a href="src/Control.Effect.Internal.html#%3A%3C%3C" class="link">Source</a> <a href="#t::-60--60-" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:reifySubIndex" class="def">reifySubIndex</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Control.Effect.Internal.html#reifySubIndex" class="link">Source</a> <a href="#v:reifySubIndex" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i::-60--60-">Instances</h4><details id="i::-60--60-" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic::-60--60-::-60--60-:1"></span> (effs2 ~ (eff ': effs3), effs1 <a href="Control-Effect-Internal.html#t::-60--60-" title="Control.Effect.Internal">:&lt;&lt;</a> effs3) =&gt; effs1 <a href="Control-Effect-Internal.html#t::-60--60-" title="Control.Effect.Internal">:&lt;&lt;</a> effs2</span> <a href="src/Control.Effect.Internal.html#line-96" class="link">Source</a> <a href="#t::-60--60-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic::-60--60-::-60--60-:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reifySubIndex">reifySubIndex</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Control.Effect.Internal.html#reifySubIndex" class="link">Source</a> <a href="#v:reifySubIndex" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic::-60--60-::-60--60-:2"></span> effs <a href="Control-Effect-Internal.html#t::-60--60-" title="Control.Effect.Internal">:&lt;&lt;</a> effs</span> <a href="src/Control.Effect.Internal.html#line-93" class="link">Source</a> <a href="#t::-60--60-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic::-60--60-::-60--60-:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:reifySubIndex">reifySubIndex</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="src/Control.Effect.Internal.html#reifySubIndex" class="link">Source</a> <a href="#v:reifySubIndex" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic::-60--60-:DictRep:3"></span> <span class="keyword">type</span> <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> (effs1 <a href="Control-Effect-Internal.html#t::-60--60-" title="Control.Effect.Internal">:&lt;&lt;</a> effs2)</span> <a href="src/Control.Effect.Internal.html#line-101" class="link">Source</a> <a href="#t::-60--60-" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic::-60--60-:DictRep:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="src"><span class="keyword">type</span> <a href="Control-Effect-Internal.html#t:DictRep" title="Control.Effect.Internal">DictRep</a> (effs1 <a href="Control-Effect-Internal.html#t::-60--60-" title="Control.Effect.Internal">:&lt;&lt;</a> effs2) = <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> eff <a id="t::-60--35-" class="def">:&lt;#</a> effs <a href="src/Control.Effect.Internal.html#%3A%3C%23" class="link">Source</a> <a href="#t::-60--35-" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ReflectIndex-35-" class="def">ReflectIndex#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:reifyIndex-35-" class="def">reifyIndex#</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Int-35-" title="GHC.Exts">Int#</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:IndexDict-35-" class="def">IndexDict#</a> :: <span class="keyword">forall</span> eff effs. () =&gt; eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; eff <a href="Control-Effect-Internal.html#t::-60--35-" title="Control.Effect.Internal">:&lt;#</a> effs <a href="src/Control.Effect.Internal.html#IndexDict%23" class="link">Source</a> <a href="#v:IndexDict-35-" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Eff" class="def">Eff</a> effs a <a href="src/Control.Effect.Internal.html#Eff" class="link">Source</a> <a href="#t:Eff" class="selflink">#</a></p><div class="doc"><p>All <code>eff</code> computations operate in the <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> monad. <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> computations are
 parameterized by a type-level list that specifies which effects they are
 allowed to perform. For example, a computation of type
 <code><code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> '[<code><a href="Control-Effect.html#v:Error" title="Control.Effect">Error</a></code> e, <code><a href="Control-Effect.html#v:Reader" title="Control.Effect">Reader</a></code> r, <code><a href="Control-Effect.html#v:State" title="Control.Effect">State</a></code> s] a</code>
 can raise exceptions of type <code>e</code>, can access a global environment of type
 <code>r</code>, and can read and modify a single cell of mutable state of type <code>s</code>.</p><p>To run an <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> computation that performs effects, the effects must be
 explicitly <em>handled</em>. Functions that handle effects are called
 <em>effect handlers</em>, and they usually have types like the following:</p><pre>runX :: <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> (X ': effs) a -&gt; <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> effs a
</pre><p>Note that the argument to <code>runX</code> can perform the <code>X</code> effect, but the result
 cannot! Any <code>X</code> operations have been handled by <code>runX</code>, which interprets
 their meaning. Examples of effect handlers include
 <code><a href="Control-Effect-Error.html#v:runError" title="Control.Effect.Error">runError</a></code>, <code><a href="Control-Effect-Reader.html#v:runReader" title="Control.Effect.Reader">runReader</a></code>, and
 <code><a href="Control-Effect-State-Strict.html#v:runState" title="Control.Effect.State.Strict">runState</a></code>.</p><p>After all effects have been handled, the resulting computation will have type
 <code><code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> '[] a</code>, a computation that performs no effects. A computation with
 this type is pure, so it can be converted to an ordinary value using <code><a href="Control-Effect-Internal.html#v:run" title="Control.Effect.Internal">run</a></code>.</p><p>Some effects cannot be handled locally, but instead require performing I/O.
 These effects will delegate to the <code><a href="Control-Effect-Internal.html#t:IOE" title="Control.Effect.Internal">IOE</a></code> effect, which provides low-level
 interop with Haskell&#8217;s built-in <code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></code> monad. After all other effects have been
 handled, a computation of type <code><code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> '[<code><a href="Control-Effect-Internal.html#t:IOE" title="Control.Effect.Internal">IOE</a></code>] a</code> can be converted to an
 ordinary <code><code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></code> a</code> computation using <code><a href="Control-Effect-Internal.html#v:runIO" title="Control.Effect.Internal">runIO</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Eff-35-" class="def">Eff#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unEff-35-" class="def">unEff#</a> :: <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Eff">Instances</h4><details id="i:Eff" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Eff:Monad:1"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs)</span> <a href="src/Control.Effect.Internal.html#line-194" class="link">Source</a> <a href="#t:Eff" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Eff:Monad:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; (a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Eff:Functor:2"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs)</span> <a href="src/Control.Effect.Internal.html#line-194" class="link">Source</a> <a href="#t:Eff" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Eff:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Eff:Applicative:3"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs)</span> <a href="src/Control.Effect.Internal.html#line-194" class="link">Source</a> <a href="#t:Eff" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Eff:Applicative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs (a -&gt; b) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs b -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Eff:MonadIO:4"></span> <a href="Control-Effect-Internal.html#t:IOE" title="Control.Effect.Internal">IOE</a> <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; <a href="Control-Effect.html#t:MonadIO" title="Control.Effect">MonadIO</a> (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs)</span> <a href="src/Control.Effect.Internal.html#line-715" class="link">Source</a> <a href="#t:Eff" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Eff:MonadIO:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="#v:liftIO" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Eff:Alternative:5"></span> <a href="Control-Effect-Internal.html#t:NonDet" title="Control.Effect.Internal">NonDet</a> <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; <a href="Control-Effect-NonDet.html#t:Alternative" title="Control.Effect.NonDet">Alternative</a> (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs)</span> <a href="src/Control.Effect.Internal.html#line-770" class="link">Source</a> <a href="#t:Eff" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Eff:Alternative:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:empty">empty</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="#v:empty" class="selflink">#</a></p><p class="src"><a href="#v:-60--124--62-">(&lt;|&gt;)</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="#v:-60--124--62-" class="selflink">#</a></p><p class="src"><a href="#v:some">some</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs [a] <a href="#v:some" class="selflink">#</a></p><p class="src"><a href="#v:many">many</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs [a] <a href="#v:many" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:Eff" class="def">Eff</a> :: (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="src/Control.Effect.Internal.html#Eff" class="link">Source</a> <a href="#v:Eff" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:EVM" class="def">EVM</a> a <a href="src/Control.Effect.Internal.html#EVM" class="link">Source</a> <a href="#t:EVM" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EVM-35-" class="def">EVM#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unEVM-35-" class="def">unEVM#</a> :: <a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Result" title="Control.Effect.Internal">Result</a> a)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EVM">Instances</h4><details id="i:EVM" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EVM:Monad:1"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a></span> <a href="src/Control.Effect.Internal.html#line-423" class="link">Source</a> <a href="#t:EVM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EVM:Monad:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a -&gt; (a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EVM:Functor:2"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a></span> <a href="src/Control.Effect.Internal.html#line-413" class="link">Source</a> <a href="#t:EVM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EVM:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EVM:Applicative:3"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a></span> <a href="src/Control.Effect.Internal.html#line-417" class="link">Source</a> <a href="#t:EVM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EVM:Applicative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> (a -&gt; b) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EVM:MonadIO:4"></span> <a href="Control-Effect.html#t:MonadIO" title="Control.Effect">MonadIO</a> <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a></span> <a href="src/Control.Effect.Internal.html#line-427" class="link">Source</a> <a href="#t:EVM" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EVM:MonadIO:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a <a href="#v:liftIO" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Result" class="def">Result</a> a <a href="src/Control.Effect.Internal.html#Result" class="link">Source</a> <a href="#t:Result" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Result" class="def">Result</a> <a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a> ~a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:EVM" class="def">EVM</a> :: (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a <a href="src/Control.Effect.Internal.html#EVM" class="link">Source</a> <a href="#v:EVM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:packIOResult" class="def">packIOResult</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Result" title="Control.Effect.Internal">Result</a> a) <a href="src/Control.Effect.Internal.html#packIOResult" class="link">Source</a> <a href="#v:packIOResult" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Registers-35-" class="def">Registers#</a> <a href="src/Control.Effect.Internal.html#Registers%23" class="link">Source</a> <a href="#t:Registers-35-" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Registers-35-" class="def">Registers#</a> (# <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a>, <a href="Control-Effect-Internal.html#t:Targets-35-" title="Control.Effect.Internal">Targets#</a> #)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Registers" class="def">Registers</a> <a href="src/Control.Effect.Internal.html#Registers" class="link">Source</a> <a href="#t:Registers" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BoxRegisters" class="def">BoxRegisters</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unboxRegisters" class="def">unboxRegisters</a> :: <a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:Registers" class="def">Registers</a> :: <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> <a href="src/Control.Effect.Internal.html#Registers" class="link">Source</a> <a href="#v:Registers" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:initialRegisters" class="def">initialRegisters</a> :: <a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> <a href="src/Control.Effect.Internal.html#initialRegisters" class="link">Source</a> <a href="#v:initialRegisters" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:PromptId" class="def">PromptId</a> <a href="src/Control.Effect.Internal.html#PromptId" class="link">Source</a> <a href="#t:PromptId" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PromptId-35-" class="def">PromptId#</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Int-35-" title="GHC.Exts">Int#</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:PromptId" class="def">PromptId</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a> <a href="src/Control.Effect.Internal.html#PromptId" class="link">Source</a> <a href="#v:PromptId" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Unwind" class="def">Unwind</a> <a href="src/Control.Effect.Internal.html#Unwind" class="link">Source</a> <a href="#t:Unwind" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:UnwindAbort" class="def">UnwindAbort</a> <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a> ~<a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:UnwindControl" class="def">UnwindControl</a> (<a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Unwind">Instances</h4><details id="i:Unwind" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Unwind:Show:1"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Control-Effect-Internal.html#t:Unwind" title="Control.Effect.Internal">Unwind</a></span> <a href="src/Control.Effect.Internal.html#line-238" class="link">Source</a> <a href="#t:Unwind" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Unwind:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Effect-Internal.html#t:Unwind" title="Control.Effect.Internal">Unwind</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Control-Effect-Internal.html#t:Unwind" title="Control.Effect.Internal">Unwind</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Control-Effect-Internal.html#t:Unwind" title="Control.Effect.Internal">Unwind</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Unwind:Exception:2"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Exception-Base.html#t:Exception" title="Control.Exception.Base">Exception</a> <a href="Control-Effect-Internal.html#t:Unwind" title="Control.Effect.Internal">Unwind</a></span> <a href="src/Control.Effect.Internal.html#line-243" class="link">Source</a> <a href="#t:Unwind" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Unwind:Exception:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toException">toException</a> :: <a href="Control-Effect-Internal.html#t:Unwind" title="Control.Effect.Internal">Unwind</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> <a href="#v:toException" class="selflink">#</a></p><p class="src"><a href="#v:fromException">fromException</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Exception-Base.html#t:SomeException" title="Control.Exception.Base">SomeException</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Control-Effect-Internal.html#t:Unwind" title="Control.Effect.Internal">Unwind</a> <a href="#v:fromException" class="selflink">#</a></p><p class="src"><a href="#v:displayException">displayException</a> :: <a href="Control-Effect-Internal.html#t:Unwind" title="Control.Effect.Internal">Unwind</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:displayException" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Capture" class="def">Capture</a> a <span class="keyword">where</span> <a href="src/Control.Effect.Internal.html#Capture" class="link">Source</a> <a href="#t:Capture" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Capture" class="def">Capture</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src">:: <a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a></dfn><div class="doc"><p>The prompt to capture up to.</p></div></li><li><dfn class="src">-&gt; <a href="Control-Effect-Internal.html#t:CaptureMode" title="Control.Effect.Internal">CaptureMode</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src">-&gt; ((b -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> c) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> d)</dfn><div class="doc"><p>The replacement continuation passed by the user to the original call to
 <code><a href="Control-Effect-Internal.html#v:control" title="Control.Effect.Internal">control</a></code>. This should be invoked with the fully-composed continuation
 after capturing is complete.</p></div></li><li><dfn class="src">-&gt; (b -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a)</dfn><div class="doc"><p>The composed continuation captured so far.</p></div></li><li><dfn class="src">-&gt; <a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CaptureMode" class="def">CaptureMode</a> <a href="src/Control.Effect.Internal.html#CaptureMode" class="link">Source</a> <a href="#t:CaptureMode" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:IncludePrompt" class="def">IncludePrompt</a></td><td class="doc"><p>The captured continuation should include the prompt being captured up to.
 This mode corresponds to the <code><a href="Control-Effect-Internal.html#v:control" title="Control.Effect.Internal">control</a></code> operator.</p></td></tr><tr><td class="src"><a id="v:ExcludePrompt" class="def">ExcludePrompt</a></td><td class="doc"><p>The captured continuation should include frames up to the the prompt, but
 not the prompt itself. This mode corresponds to the <code><a href="Control-Effect-Internal.html#v:control0" title="Control.Effect.Internal">control0</a></code> operator.</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:captureVM" class="def">captureVM</a> :: <span class="keyword">forall</span> a b. <a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b <a href="src/Control.Effect.Internal.html#captureVM" class="link">Source</a> <a href="#v:captureVM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:promptVM" class="def">promptVM</a> <a href="src/Control.Effect.Internal.html#promptVM" class="link">Source</a> <a href="#v:promptVM" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b)</td><td class="doc"><p>return handler</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Effect-Internal.html#t:PromptId" title="Control.Effect.Internal">PromptId</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b)</td><td class="doc"><p>abort handler</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b)</td><td class="doc"><p>capture handler</p></td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Runs an <code><a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a></code> action with a new prompt installed. The arguments specify
 what happens when control exits the action.</p></div></div><div class="top"><p class="src"><a id="v:promptVM_" class="def">promptVM_</a> <a href="src/Control.Effect.Internal.html#promptVM_" class="link">Source</a> <a href="#v:promptVM_" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a></td><td class="doc"><p>registers to restore on normal return</p></td></tr><tr><td class="src">-&gt; (<a href="Control-Effect-Internal.html#t:Capture" title="Control.Effect.Internal">Capture</a> a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a))</td><td class="doc"><p>capture handler</p></td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Effect-Internal.html#v:promptVM" title="Control.Effect.Internal">promptVM</a></code>, but for prompts that cannot be the target of a capture or
 abort (that is, prompts that only install winders/unwinders).</p></div></div><div class="top"><p class="src"><a id="v:controlVM" class="def">controlVM</a> :: ((a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> b) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, b)) -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>, a) <a href="src/Control.Effect.Internal.html#controlVM" class="link">Source</a> <a href="#v:controlVM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:parameterizeVM" class="def">parameterizeVM</a> :: (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> -&gt; <a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a>) -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a -&gt; <a href="Control-Effect-Internal.html#t:EVM" title="Control.Effect.Internal">EVM</a> a <a href="src/Control.Effect.Internal.html#parameterizeVM" class="link">Source</a> <a href="#v:parameterizeVM" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Targets-35-" class="def">Targets#</a> <a href="src/Control.Effect.Internal.html#Targets%23" class="link">Source</a> <a href="#t:Targets-35-" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Targets-35-" class="def">Targets#</a> (<a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:SmallArray-35-" title="GHC.Exts">SmallArray#</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Targets" class="def">Targets</a> <a href="src/Control.Effect.Internal.html#Targets" class="link">Source</a> <a href="#t:Targets" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Targets" class="def">Targets</a> (<a href="Control-Effect-Internal-SmallArray.html#t:SmallArray" title="Control.Effect.Internal.SmallArray">SmallArray</a> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/GHC-Exts.html#t:Any" title="GHC.Exts">Any</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:BoxTargets" class="def">BoxTargets</a> :: <a href="Control-Effect-Internal.html#t:Targets-35-" title="Control.Effect.Internal">Targets#</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> <a href="src/Control.Effect.Internal.html#BoxTargets" class="link">Source</a> <a href="#v:BoxTargets" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:noTargets" class="def">noTargets</a> :: <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> <a href="src/Control.Effect.Internal.html#noTargets" class="link">Source</a> <a href="#v:noTargets" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:lookupTarget" class="def">lookupTarget</a> :: <span class="keyword">forall</span> effs eff. (<a href="Control-Effect-Internal-Debug.html#t:DebugCallStack" title="Control.Effect.Internal.Debug">DebugCallStack</a>, eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs) =&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Handler" title="Control.Effect.Internal">Handler</a> eff <a href="src/Control.Effect.Internal.html#lookupTarget" class="link">Source</a> <a href="#v:lookupTarget" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:pushTarget" class="def">pushTarget</a> :: <a href="Control-Effect-Internal.html#t:Handler" title="Control.Effect.Internal">Handler</a> eff -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> <a href="src/Control.Effect.Internal.html#pushTarget" class="link">Source</a> <a href="#v:pushTarget" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dropTargets" class="def">dropTargets</a> :: <a href="Control-Effect-Internal-Debug.html#t:DebugCallStack" title="Control.Effect.Internal.Debug">DebugCallStack</a> =&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> <a href="src/Control.Effect.Internal.html#dropTargets" class="link">Source</a> <a href="#v:dropTargets" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:run" class="def">run</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> '[] a -&gt; a <a href="src/Control.Effect.Internal.html#run" class="link">Source</a> <a href="#v:run" class="selflink">#</a></p><div class="doc"><p>Runs a pure <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> computation to produce a value.</p><pre>&gt;&gt;&gt; <code><a href="Control-Effect-Internal.html#v:run" title="Control.Effect.Internal">run</a></code> <code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Function.html#v:-36-" title="Data.Function">$</a></code> <code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Applicative.html#v:pure" title="Control.Applicative">pure</a></code> 42
42
&gt;&gt;&gt; <code><a href="Control-Effect-Internal.html#v:run" title="Control.Effect.Internal">run</a></code> <code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Function.html#v:-36-" title="Data.Function">$</a></code> <code><a href="Control-Effect-Error.html#v:runError" title="Control.Effect.Error">runError</a></code> <code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Function.html#v:-36-" title="Data.Function">$</a></code> <code><a href="Control-Effect-Error.html#v:throw" title="Control.Effect.Error">throw</a></code> &quot;bang&quot;
<code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Either.html#v:Left" title="Data.Either">Left</a></code> &quot;bang&quot;
</pre></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Handle" class="def">Handle</a> eff effs i r effs' a <a href="src/Control.Effect.Internal.html#Handle" class="link">Source</a> <a href="#t:Handle" class="selflink">#</a></p><div class="doc"><p>The monad that effect handlers run in.</p><ul><li>The <code>eff</code> parameter is the effect being handled, and the <code>effs</code> parameter
     includes the other effects in scope at the point of the <code><a href="Control-Effect-Internal.html#v:handle" title="Control.Effect.Internal">handle</a></code> call
     (used by <code><a href="Control-Effect-Internal.html#v:liftH" title="Control.Effect.Internal">liftH</a></code>).</li><li>The <code>i</code> parameter is the return type of the handled computation before
     the exit handler has been applied (used by <code><a href="Control-Effect-Internal.html#v:control0" title="Control.Effect.Internal">control0</a></code>).</li><li>The <code>r</code> parameter is the final return type of the handled computation
     (used by <code><a href="Control-Effect-Internal.html#v:abort" title="Control.Effect.Internal">abort</a></code>, <code><a href="Control-Effect-Internal.html#v:control" title="Control.Effect.Internal">control</a></code>, and <code><a href="Control-Effect-Internal.html#v:control0" title="Control.Effect.Internal">control0</a></code>).</li><li>The <code>effs'</code> parameter is the list of effects in scope at the point of the
     originating <code><a href="Control-Effect-Internal.html#v:send" title="Control.Effect.Internal">send</a></code> call (used by <code><a href="Control-Effect-Internal.html#v:locally" title="Control.Effect.Internal">locally</a></code>).</li></ul><p>See <code><a href="Control-Effect-Internal.html#v:handle" title="Control.Effect.Internal">handle</a></code> for more details.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Handle-35-" class="def">Handle#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runHandle-35-" class="def">runHandle#</a> :: <a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a> -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs' a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Handle">Instances</h4><details id="i:Handle" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Handle:Monad:1"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs')</span> <a href="src/Control.Effect.Internal.html#line-479" class="link">Source</a> <a href="#t:Handle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Handle:Monad:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a -&gt; (a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Handle:Functor:2"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs')</span> <a href="src/Control.Effect.Internal.html#line-469" class="link">Source</a> <a href="#t:Handle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Handle:Functor:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Handle:Applicative:3"></span> <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs')</span> <a href="src/Control.Effect.Internal.html#line-473" class="link">Source</a> <a href="#t:Handle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Handle:Applicative:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' (a -&gt; b) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' b -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:Handle" class="def">Handle</a> :: (<a href="Control-Effect-Internal.html#t:Registers" title="Control.Effect.Internal">Registers</a> -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs' a) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="src/Control.Effect.Internal.html#Handle" class="link">Source</a> <a href="#v:Handle" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Handler" class="def">Handler</a> eff <a href="src/Control.Effect.Internal.html#Handler" class="link">Source</a> <a href="#t:Handler" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Handler-35-" class="def">Handler#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runHandler-35-" class="def">runHandler#</a> :: <span class="keyword">forall</span> effs a. (eff <a href="Control-Effect-Internal.html#t::-60--35-" title="Control.Effect.Internal">:&lt;#</a> effs) -&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:WrappedHandler" class="def">WrappedHandler</a> eff <a href="src/Control.Effect.Internal.html#WrappedHandler" class="link">Source</a> <a href="#t:WrappedHandler" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:WrapHandler" class="def">WrapHandler</a> (<span class="keyword">forall</span> effs a. eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">pattern</span> <a id="v:Handler" class="def">Handler</a> :: (<span class="keyword">forall</span> effs a. eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a) -&gt; <a href="Control-Effect-Internal.html#t:Handler" title="Control.Effect.Internal">Handler</a> eff <a href="src/Control.Effect.Internal.html#Handler" class="link">Source</a> <a href="#v:Handler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:send" class="def">send</a> :: <span class="keyword">forall</span> eff a effs. eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs =&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="src/Control.Effect.Internal.html#send" class="link">Source</a> <a href="#v:send" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:handle" class="def">handle</a> <a href="src/Control.Effect.Internal.html#handle" class="link">Source</a> <a href="#v:handle" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r)</td><td class="doc"><p>The exit handler, aka the action to take on normal returns (often just <code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Control-Applicative.html#v:pure" title="Control.Applicative">pure</a></code>).</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> effs' b. eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs' =&gt; eff (<a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs') b -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs a r effs' b)</td><td class="doc"><p>The handler function.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) a</td><td class="doc"><p>The action to handle.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Handles the topmost effect in an <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> computation. The given handler
 function must provide an interpretation for each effectful operation. The
 handler runs in the restrictive <code><a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a></code> monad, which generally uses one of
 the following core <code><a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a></code> operations:</p><ul><li><code><a href="Control-Effect-Internal.html#v:liftH" title="Control.Effect.Internal">liftH</a></code> &#8212; Runs an action in the context of the original <code><a href="Control-Effect-Internal.html#v:handle" title="Control.Effect.Internal">handle</a></code> call.
     This is the most common way to handle an effect.</li><li><code><a href="Control-Effect-Internal.html#v:abort" title="Control.Effect.Internal">abort</a></code> &#8212; Aborts the computation to the <code><a href="Control-Effect-Internal.html#v:handle" title="Control.Effect.Internal">handle</a></code> call and returns a value
     directly. This is usually used to implement exception-like operations.</li><li><code><a href="Control-Effect-Internal.html#v:control" title="Control.Effect.Internal">control</a></code> &#8212; Captures the current continuation up to and including the
     <code><a href="Control-Effect-Internal.html#v:handle" title="Control.Effect.Internal">handle</a></code> call and aborts, passing the captured continuation to the
     handler. This can be used to implement complex control operators such as
     coroutines or resumable exceptions.</li><li><code><a href="Control-Effect-Internal.html#v:control0" title="Control.Effect.Internal">control0</a></code> &#8212; Like <code><a href="Control-Effect-Internal.html#v:control" title="Control.Effect.Internal">control</a></code>, but does not include the <code><a href="Control-Effect-Internal.html#v:handle" title="Control.Effect.Internal">handle</a></code> call
     itself in the captured continuation, so a different handler may be
     installed before resuming the computation.</li><li><code><a href="Control-Effect-Internal.html#v:locally" title="Control.Effect.Internal">locally</a></code> &#8212; Runs an action directly in the context of the originating
     <code><a href="Control-Effect-Internal.html#v:send" title="Control.Effect.Internal">send</a></code> call. This can be used to implement &#8220;scoped&#8221; operations like
     <code><a href="Control-Effect.html#v:local" title="Control.Effect">local</a></code> and <code><a href="Control-Effect.html#v:catch" title="Control.Effect">catch</a></code>.</li></ul><p>See the documentation for each of the above functions for examples and more
 details.</p></div></div><div class="top"><p class="src"><a id="v:handleVM" class="def">handleVM</a> :: <span class="keyword">forall</span> eff a r effs. (a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r) -&gt; (<a href="Control-Effect-Internal.html#t:Registers-35-" title="Control.Effect.Internal">Registers#</a> -&gt; <a href="Control-Effect-Internal.html#t:Handler" title="Control.Effect.Internal">Handler</a> eff) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r <a href="src/Control.Effect.Internal.html#handleVM" class="link">Source</a> <a href="#v:handleVM" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:locally" class="def">locally</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs' a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="src/Control.Effect.Internal.html#locally" class="link">Source</a> <a href="#v:locally" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:liftH" class="def">liftH</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) a -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="src/Control.Effect.Internal.html#liftH" class="link">Source</a> <a href="#v:liftH" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:abort" class="def">abort</a> :: r -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="src/Control.Effect.Internal.html#abort" class="link">Source</a> <a href="#v:abort" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:control" class="def">control</a> :: ((a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="src/Control.Effect.Internal.html#control" class="link">Source</a> <a href="#v:control" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:control0" class="def">control0</a> :: ((a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) i) -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs r) -&gt; <a href="Control-Effect-Internal.html#t:Handle" title="Control.Effect.Internal">Handle</a> eff effs i r effs' a <a href="src/Control.Effect.Internal.html#control0" class="link">Source</a> <a href="#v:control0" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Lift" class="def">Lift</a> effs1 effs2 <span class="keyword">where</span> <a href="src/Control.Effect.Internal.html#Lift" class="link">Source</a> <a href="#t:Lift" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:liftTargets" class="def">liftTargets</a> :: <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> <a href="src/Control.Effect.Internal.html#liftTargets" class="link">Source</a> <a href="#v:liftTargets" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Lift">Instances</h4><details id="i:Lift" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Lift:Lift:1"></span> effs1 <a href="Control-Effect-Internal.html#t::-60--60-" title="Control.Effect.Internal">:&lt;&lt;</a> effs2 =&gt; <a href="Control-Effect-Internal.html#t:Lift" title="Control.Effect.Internal">Lift</a> effs1 effs2</span> <a href="src/Control.Effect.Internal.html#line-633" class="link">Source</a> <a href="#t:Lift" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Lift:Lift:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftTargets">liftTargets</a> :: <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> <a href="src/Control.Effect.Internal.html#liftTargets" class="link">Source</a> <a href="#v:liftTargets" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Lift:Lift:2"></span> <a href="Control-Effect-Internal.html#t:Lift" title="Control.Effect.Internal">Lift</a> ('[] :: [<a href="Control-Effect-Internal.html#t:Effect" title="Control.Effect.Internal">Effect</a>]) effs</span> <a href="src/Control.Effect.Internal.html#line-636" class="link">Source</a> <a href="#t:Lift" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Lift:Lift:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftTargets">liftTargets</a> :: <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> <a href="src/Control.Effect.Internal.html#liftTargets" class="link">Source</a> <a href="#v:liftTargets" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Lift:Lift:3"></span> (eff <a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a> effs2, <a href="Control-Effect-Internal.html#t:Lift" title="Control.Effect.Internal">Lift</a> effs1 effs2) =&gt; <a href="Control-Effect-Internal.html#t:Lift" title="Control.Effect.Internal">Lift</a> (eff ': effs1) effs2</span> <a href="src/Control.Effect.Internal.html#line-639" class="link">Source</a> <a href="#t:Lift" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Lift:Lift:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Control-Effect-Internal.html">Control.Effect.Internal</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftTargets">liftTargets</a> :: <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> -&gt; <a href="Control-Effect-Internal.html#t:Targets" title="Control.Effect.Internal">Targets</a> <a href="src/Control.Effect.Internal.html#liftTargets" class="link">Source</a> <a href="#v:liftTargets" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:lift" class="def">lift</a> :: <span class="keyword">forall</span> effs1 effs2 a. <a href="Control-Effect-Internal.html#t:Lift" title="Control.Effect.Internal">Lift</a> effs1 effs2 =&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs1 a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs2 a <a href="src/Control.Effect.Internal.html#lift" class="link">Source</a> <a href="#v:lift" class="selflink">#</a></p><div class="doc"><p>Lifts an <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> computation into one that performs all the same effects, and
 possibly more. For example, if you have a computation</p><pre>m :: <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> '[Foo, Bar] ()
</pre><p>then <code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code> will transform it into a polymorphic computation with the
 following type:</p><pre><code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code> m :: (Foo <code><a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a></code> effs, Bar <code><a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a></code> effs) =&gt; <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> effs ()
</pre><p>This type is much more general, and <code>effs</code> can now be instantiated at many
 different types. Generally, <code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code> can manipulate the list of effects in any
 of the following ways:</p><ul><li>Effects can be reordered.</li><li>New effects can be inserted anywhere in the list.</li><li>Duplicate effects can be collapsed.</li></ul><p>More generally, the list of effects doesn&#8217;t need to be entirely concrete in
 order for <code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code> to work. For example, if you have a computation</p><pre>n :: <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> (Foo ': Bar ': effs1) ()
</pre><p>then <code><code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code> n</code> will have the following type:</p><pre><code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code> n :: (Foo <code><a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a></code> effs2, Bar <code><a href="Control-Effect-Internal.html#t::-60-" title="Control.Effect.Internal">:&lt;</a></code> effs2, effs1 <code><a href="Control-Effect-Internal.html#t::-60--60-" title="Control.Effect.Internal">:&lt;&lt;</a></code> effs2) =&gt; <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> effs2 ()
</pre><p>This type is extremely general, and it allows <code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code> to manipulate the <em>head</em>
 of the effects list even if the entire list is not completely known.</p><p>The <code><a href="Control-Effect-Internal.html#t:Lift" title="Control.Effect.Internal">Lift</a></code> typeclass provides some type-level programming machinery to
 implement <code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code>, but it should be treated as an implementation detail. In
 most situations, the machinery should &#8220;just work,&#8221; but if it doesn&#8217;t, the
 type errors can be somewhat inscrutable. In those situations, adding some
 explicit type annotations (or using <code>TypeApplications</code>) can improve the type
 errors significantly.</p></div></div><div class="top"><p class="src"><a id="v:lift1" class="def">lift1</a> :: <span class="keyword">forall</span> eff effs a. <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (eff ': effs) a <a href="src/Control.Effect.Internal.html#lift1" class="link">Source</a> <a href="#v:lift1" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code>, but restricted to introducing a single additional effect in the result. This is
 behaviorally identical to just using <code><a href="Control-Effect-Internal.html#v:lift" title="Control.Effect.Internal">lift</a></code>, but the restricted type can produce better type
 inference.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:IOE" class="def">IOE</a> :: <a href="Control-Effect-Internal.html#t:Effect" title="Control.Effect.Internal">Effect</a> <span class="keyword">where</span> <a href="src/Control.Effect.Internal.html#IOE" class="link">Source</a> <a href="#t:IOE" class="selflink">#</a></p><div class="doc"><p>An effect used to run <code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></code> operations via <code><a href="Control-Effect.html#v:liftIO" title="Control.Effect">liftIO</a></code>. Handled by the special
 <code><a href="Control-Effect-Internal.html#v:runIO" title="Control.Effect.Internal">runIO</a></code> handler.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:LiftIO" class="def">LiftIO</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Control-Effect-Internal.html#t:IOE" title="Control.Effect.Internal">IOE</a> m a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:unsafeIOToEff" class="def">unsafeIOToEff</a> :: <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="src/Control.Effect.Internal.html#unsafeIOToEff" class="link">Source</a> <a href="#v:unsafeIOToEff" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:runIO" class="def">runIO</a> :: <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> '[<a href="Control-Effect-Internal.html#t:IOE" title="Control.Effect.Internal">IOE</a>] a -&gt; <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a> a <a href="src/Control.Effect.Internal.html#runIO" class="link">Source</a> <a href="#v:runIO" class="selflink">#</a></p><div class="doc"><p>Converts an <code><a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a></code> computation to <code><a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/System-IO.html#t:IO" title="System.IO">IO</a></code>. Unlike most handlers, <code><a href="Control-Effect-Internal.html#t:IOE" title="Control.Effect.Internal">IOE</a></code> must be
 the final effect handled, and <code><a href="Control-Effect-Internal.html#v:runIO" title="Control.Effect.Internal">runIO</a></code> completely replaces the call to <code><a href="Control-Effect-Internal.html#v:run" title="Control.Effect.Internal">run</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:State" class="def">State</a> s :: <a href="Control-Effect-Internal.html#t:Effect" title="Control.Effect.Internal">Effect</a> <span class="keyword">where</span> <a href="src/Control.Effect.Internal.html#State" class="link">Source</a> <a href="#t:State" class="selflink">#</a></p><div class="doc"><p>The <code><code><a href="Control-Effect-Internal.html#t:State" title="Control.Effect.Internal">State</a></code> s</code> effect provides access to a single cell of mutable state of
 type <code>s</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Get" class="def">Get</a> :: <a href="Control-Effect-Internal.html#t:State" title="Control.Effect.Internal">State</a> s m s</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Put" class="def">Put</a> :: ~s -&gt; <a href="Control-Effect-Internal.html#t:State" title="Control.Effect.Internal">State</a> s m ()</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:evalState" class="def">evalState</a> :: s -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> (<a href="Control-Effect-Internal.html#t:State" title="Control.Effect.Internal">State</a> s ': effs) a -&gt; <a href="Control-Effect-Internal.html#t:Eff" title="Control.Effect.Internal">Eff</a> effs a <a href="src/Control.Effect.Internal.html#evalState" class="link">Source</a> <a href="#v:evalState" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NonDet" class="def">NonDet</a> :: <a href="Control-Effect-Internal.html#t:Effect" title="Control.Effect.Internal">Effect</a> <span class="keyword">where</span> <a href="src/Control.Effect.Internal.html#NonDet" class="link">Source</a> <a href="#t:NonDet" class="selflink">#</a></p><div class="doc"><p>The <code><a href="Control-Effect-Internal.html#t:NonDet" title="Control.Effect.Internal">NonDet</a></code> effect provides so-called <em>nondeterministic execution</em>, which
 runs all branches of a computation and collects some or all of their results.
 Actual execution is not usually truly nondeterministic in the sense that it
 is somehow random; rather, <code><a href="Control-Effect-Internal.html#t:NonDet" title="Control.Effect.Internal">NonDet</a></code> models nondeterministic binary choice by
 executing <em>both</em> possibilities rather than choosing just one.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Empty" class="def">Empty</a> :: <a href="Control-Effect-Internal.html#t:NonDet" title="Control.Effect.Internal">NonDet</a> m a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Choose" class="def">Choose</a> :: <a href="Control-Effect-Internal.html#t:NonDet" title="Control.Effect.Internal">NonDet</a> m <a href="https://hackage.haskell.org/package/base-4.14.0.0/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>